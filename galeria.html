<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Galeria de Teste â€” Forjados</title>
<style>
  body { font-family: Arial, sans-serif; margin: 0; padding: 20px; background: #f5f5f5; }
  .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(120px, 1fr)); gap: 10px; }
  .grid img { width: 100%; cursor: pointer; border-radius: 6px; transition: transform 0.2s; }
  .grid img:hover { transform: scale(1.05); }
  #modal { display: none; position: fixed; top:0; left:0; width:100%; height:100%; background: rgba(0,0,0,0.8); justify-content:center; align-items:center; }
  #modal img { max-width:90%; max-height:90%; border-radius: 10px; }
  #modal a { position: absolute; top: 20px; right: 20px; color:white; font-size:20px; text-decoration:none; background:#333; padding:10px; border-radius:5px;}
</style>
</head>
<body>

<h1>Galeria de Teste</h1>
<div class="grid" id="gallery">Carregando galeria...</div>

<div id="modal">
  <a id="download" href="#" download>Baixar</a>
  <img id="modal-img" src="">
</div>

<script>
async function carregarGaleria() {
  try {
    const resposta = await fetch('fotos.json');
    const fotos = await resposta.json();

    const gallery = document.getElementById('gallery');
    gallery.innerHTML = '';

    fotos.forEach(item => {
      const img = document.createElement('img');
      img.src = item.thumb;
      img.setAttribute('data-full', item.src);
      img.alt = item.alt;
      gallery.appendChild(img);
    });
  } catch (erro) {
    document.getElementById('gallery').innerHTML = 'Erro ao carregar fotos.';
    console.error(erro);
  }
}

const modal = document.getElementById('modal');
const modalImg = document.getElementById('modal-img');
const downloadLink = document.getElementById('download');

document.getElementById('gallery').addEventListener('click', e => {
  if (e.target.tagName === 'IMG') {
    modal.style.display = 'flex';
    modalImg.src = e.target.dataset.full;
    downloadLink.href = e.target.dataset.full;
  }
});

modal.addEventListener('click', e => {
  if (e.target !== modalImg) modal.style.display = 'none';
});

window.addEventListener('keydown', e => {
  if (e.key === 'Escape') modal.style.display = 'none';
});

carregarGaleria();
</script>

</body>
</html>
